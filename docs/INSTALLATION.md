# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –£—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –ó–∞–ø—É—Å–∫—É

–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ, –∑–∞–ø—É—Å–∫—É –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã GitOpsLab.

---

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ú–∏–Ω–∏–º—É–º | –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è |
|-----------|---------|---------------|
| –û–° | Windows 10 (2004+) | Windows 11 |
| RAM | 8 GB | 16 GB |
| CPU | 4 cores | 8 cores |
| –î–∏—Å–∫ | 20 GB —Å–≤–æ–±–æ–¥–Ω–æ | 50 GB SSD |
| WSL2 | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | ‚Äî |

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ

| –ü—Ä–æ–≥—Ä–∞–º–º–∞ | –í–µ—Ä—Å–∏—è | –°—Å—ã–ª–∫–∞ |
|-----------|--------|--------|
| **Podman Desktop** | 1.5+ | [podman.io](https://podman.io) |
| **Git** | 2.30+ | [git-scm.com](https://git-scm.com) |

> [!NOTE]
> –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **Docker Desktop** –≤–º–µ—Å—Ç–æ Podman.

---

## üöÄ –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```batch
git clone <repository-url> gitopslab
cd gitopslab
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

```batch
start.bat
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
1. ‚úÖ –°–æ–∑–¥–∞—ë—Ç—Å—è `.env` –∏–∑ `.env.example`
2. ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è Podman machine (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
3. ‚úÖ –°–æ–∑–¥–∞—ë—Ç—Å—è Docker-—Å–µ—Ç—å `gitopslab`
4. ‚úÖ –ó–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (Gitea, Woodpecker)
5. ‚úÖ –°–æ–∑–¥–∞—ë—Ç—Å—è k3d –∫–ª–∞—Å—Ç–µ—Ä
6. ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è Argo CD
7. ‚úÖ –ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è GitOps-–º–∞–Ω–∏—Ñ–µ—Å—Ç—ã

**–í—Ä–µ–º—è:** ~3-5 –º–∏–Ω—É—Ç –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ

---

## ‚ö†Ô∏è –®–∞–≥ 3: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Woodpecker (–†–£–ß–ù–û–ô –®–ê–ì!)

> [!CAUTION]
> **–≠—Ç–æ –ï–î–ò–ù–°–¢–í–ï–ù–ù–´–ô —Ä—É—á–Ω–æ–π —à–∞–≥!**
> 
> –ï–≥–æ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å **—Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ü–ï–†–í–û–ú –∑–∞–ø—É—Å–∫–µ**.
> –ë–µ–∑ —ç—Ç–æ–≥–æ —à–∞–≥–∞ CI pipeline —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±—É–¥–µ—Ç.

### –ü–æ—á–µ–º—É —ç—Ç–æ –Ω—É–∂–Ω–æ?

Woodpecker –∏—Å–ø–æ–ª—å–∑—É–µ—Ç OAuth –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Gitea. –ü–µ—Ä–≤—ã–π –≤—Ö–æ–¥ —Å–æ–∑–¥–∞—ë—Ç –≤–∞—à—É —É—á—ë—Ç–Ω—É—é –∑–∞–ø–∏—Å—å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö Woodpecker, —á—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤.

### –ö–∞–∫ –≤—ã–ø–æ–ª–Ω–∏—Ç—å

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Woodpecker –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
   ```
   http://woodpecker.localhost:8000
   ```

2. **–ù–∞–∂–º–∏—Ç–µ "Login with Gitea"**
   
   ![Login with Gitea](login-button.png)

3. **–í–≤–µ–¥–∏—Ç–µ credentials:**
   - **Username:** `gitops`
   - **Password:** `gitops1234`

4. **–ù–∞–∂–º–∏—Ç–µ "Authorize"**

5. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç:**
   ```batch
   start.bat
   ```

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `platform`
- –°–æ–∑–¥–∞—Å—Ç webhook
- –ù–∞—Å—Ç—Ä–æ–∏—Ç —Å–µ–∫—Ä–µ—Ç—ã

---

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

| –°–µ—Ä–≤–∏—Å | URL | Credentials |
|--------|-----|-------------|
| **Gitea** | http://gitea.localhost:3000 | gitops / gitops1234 |
| **Woodpecker** | http://woodpecker.localhost:8000 | ‚Äî (OAuth) |
| **Argo CD** | http://argocd.localhost:8081 | admin / —Å–º. credentials.txt |
| **Hello API** | http://demo.localhost:8088 | ‚Äî |
| **MLflow** | http://mlflow.localhost:8090 | ‚Äî |
| **MinIO Console** | http://minio.localhost:9091 | minioadmin / minioadmin123 |
| **K8s Dashboard** | https://dashboard.localhost:32443 | Token –∏–∑ credentials.txt |

> [!TIP]
> –í—Å–µ credentials —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª `credentials.txt` –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞.

---

## üîÑ –°—Ü–µ–Ω–∞—Ä–∏–∏ –ó–∞–ø—É—Å–∫–∞ –∏ –û—Å—Ç–∞–Ω–æ–≤–∫–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞

```batch
# –£—Ç—Ä–æ–º ‚Äî –∑–∞–ø—É—Å–∫
start.bat

# –†–∞–±–æ—Ç–∞ —Å –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π...

# –í–µ—á–µ—Ä–æ–º ‚Äî –º—è–≥–∫–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ (–¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è)
stop.bat
```

**–°–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å:** `start.bat` –∑–∞–ø—É—Å—Ç–∏—Ç –±—ã—Å—Ç—Ä–µ–µ, —Ç.–∫. volumes —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã.

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å

```batch
# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ + –∑–∞–ø—É—Å–∫
stop.bat --clean
start.bat
```

**–∏–ª–∏ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:**

```batch
restart.bat
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ü—Ä–æ–±–ª–µ–º—ã —Å OAuth
- ArgoCD –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –ü–µ—Ä–µ–¥ E2E —Ç–µ—Å—Ç–∞–º–∏

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```batch
# 1. –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
restart.bat

# 2. –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è bootstrap
podman logs -f platform-bootstrap

# 3. [–†–£–ß–ù–û–ô] –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –≤ Woodpecker (–µ—Å–ª–∏ –ø–µ—Ä–≤—ã–π —Ä–∞–∑)
# http://woodpecker.localhost:8000 ‚Üí Login with Gitea

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å (–µ—Å–ª–∏ –±—ã–ª —Ä—É—á–Ω–æ–π —à–∞–≥)
start.bat

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
run-e2e.bat
```

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```batch
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å –æ—á–∏—Å—Ç–∫–æ–π
stop.bat --clean

# 2. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env
notepad .env

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
start.bat
```

---

## üìä URL-–∞–¥—Ä–µ—Å–∞ –∏ –ü–æ—Ä—Ç—ã

### GitOps Stack

| –°–µ—Ä–≤–∏—Å | URL | –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∞–¥—Ä–µ—Å | –ü–æ—Ä—Ç |
|--------|-----|-----------------|------|
| Gitea | http://gitea.localhost:3000 | gitea:3000 | 3000 |
| Woodpecker | http://woodpecker.localhost:8000 | woodpecker-server:8000 | 8000 |
| Argo CD | http://argocd.localhost:8081 | argocd-server:443 | 30081 |
| Registry | http://registry.localhost:5002/v2/ | k3d-registry:5000 | 5002 |

### MLOps Stack

| –°–µ—Ä–≤–∏—Å | URL | –ü–æ—Ä—Ç |
|--------|-----|------|
| MLflow | http://mlflow.localhost:8090 | 30902 |
| MinIO API | http://minio.localhost:9090 | 30900 |
| MinIO Console | http://minio.localhost:9091 | 30901 |

### Platform

| –°–µ—Ä–≤–∏—Å | URL | –ü–æ—Ä—Ç |
|--------|-----|------|
| Demo App | http://demo.localhost:8088 | 30888 |
| K8s Dashboard | https://dashboard.localhost:32443 | 32443 |
| K8s API | https://k8s.localhost:6550 | 6550 |
| Ingress | http://apps.localhost:8080 | 8080 |

---

## üîë –£—á—ë—Ç–Ω—ã–µ –î–∞–Ω–Ω—ã–µ

### –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é

| –°–µ—Ä–≤–∏—Å | Username | Password |
|--------|----------|----------|
| Gitea | `gitops` | `gitops1234` |
| Woodpecker | ‚Äî | OAuth —á–µ—Ä–µ–∑ Gitea |
| Argo CD | `admin` | –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è (—Å–º. –Ω–∏–∂–µ) |
| MinIO | `minioadmin` | `minioadmin123` |

### –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è Argo CD

```batch
podman exec k3d-gitopslab-server-0 kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath="{.data.password}" | base64 -d
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ K8s Dashboard

```batch
podman exec k3d-gitopslab-server-0 kubectl -n kubernetes-dashboard create token admin-user
```

> [!TIP]
> –í—Å–µ credentials –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `credentials.txt` –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞.

---

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ù–µ–ø–æ–ª–∞–¥–æ–∫

### "Podman machine not running"

```batch
podman machine start
start.bat
```

### "Port 5002 already in use"

```batch
stop.bat --clean
start.bat
```

### "Bootstrap failed"

```batch
podman logs platform-bootstrap
stop.bat --clean
start.bat
```

### "Woodpecker repository not activated"

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–ø–æ–ª–Ω–∏–ª–∏ [–®–∞–≥ 3](#-—à–∞–≥-3-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è-woodpecker-—Ä—É—á–Ω–æ–π-—à–∞–≥).

### "ArgoCD not syncing"

```batch
restart.bat
```

---

## üîó –°–≤—è–∑–∞–Ω–Ω–∞—è –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [ARCHITECTURE.md](ARCHITECTURE.md) ‚Äî –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
- [SCRIPTS.md](SCRIPTS.md) ‚Äî –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Å–∫—Ä–∏–ø—Ç–æ–≤
- [CONFIGURATION.md](CONFIGURATION.md) ‚Äî –ì–∏–¥ –ø–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- [LIFECYCLE.md](LIFECYCLE.md) ‚Äî –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º
- [HEALTH_CHECKS.md](HEALTH_CHECKS.md) ‚Äî –ü—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è
